(()=>{"use strict";var e=document.querySelector(".form"),t=document.querySelector(".form__comment"),n=document.querySelector(".form__comment-number"),r=document.querySelector(".form__file"),o=document.querySelector(".form__file-text"),i=document.querySelector(".form__phone"),c=document.querySelector(".form__terms"),u=document.querySelector(".form__submit"),d=document.querySelector(".popup"),s=d.querySelector(".popup__text"),l=document.querySelectorAll(".form__rating-item"),m=document.querySelector("#rating4"),a=document.querySelector("#rating5");function h(){m.checked||a.checked?i.removeAttribute("required"):i.setAttribute("required","")}t.setAttribute("style","height:"+(t.scrollHeight-38)+"px;"),t.addEventListener("input",(function(){this.style.height="54px",this.style.height=this.scrollHeight-38+"px"}),!1),t.addEventListener("input",(function(){n.textContent="".concat(t.value.length)})),r.addEventListener("change",(function(){var e="";this.files&&this.files.length>=1&&(e=this.files.length),e&&(o.textContent="Выбрано файлов: "+e)})),i.addEventListener("click",(function(){return i.value="+7"})),i.addEventListener("input",(function(){for(var e=this.value.replace(/[^\d+]/g,""),t="",n=0;n<Math.min(e.length,12);n++)t+=e[n],1!=n&&4!=n&&7!=n&&9!=n||(t+=" ");this.value=t})),c.addEventListener("change",(function(){c.checked?(u.removeAttribute("disabled"),u.classList.remove("form__submit_inactive")):(u.setAttribute("disabled",!0),u.classList.add("form__submit_inactive"))})),Array.from(l).forEach((function(e){e.addEventListener("change",h)})),e.addEventListener("submit",(function(e){e.preventDefault(),a.checked?s.textContent="Спасибо! Рады, что вам понравилось.":m.checked?(s.textContent="Спасибо! Будем стараться, чтобы ваша оценка улучшилась.",s.style.width="".concat(58,"%")):s.textContent="Спасибо! Нам жаль, что так вышло. Мы разберемся и свяжемся с вами.",d.classList.add("popup_opened")}))})();