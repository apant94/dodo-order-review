(()=>{"use strict";var e=document.querySelector(".root"),t=document.querySelector(".form"),r=document.querySelector(".form__comment"),n=document.querySelector(".form__comment-number"),o=document.querySelector(".form__file"),i=document.querySelector(".form__file-text"),u=document.querySelector(".form__phone"),c=document.querySelector(".form__terms"),d=document.querySelector(".form__submit"),s=document.querySelector(".popup"),l=s.querySelector(".popup__text"),a=document.querySelectorAll(".form__rating-item"),m=document.querySelector("#rating4"),f=document.querySelector("#rating5"),h=document.querySelector("#star-path"),_=document.querySelector(".form__error-text_position_normal"),v=document.querySelector(".form__error-text_position_extra"),y=document.querySelector(".form__paragraph_visible"),p=document.querySelector(".footer__copyright");var b=function(){return!u.validity.valid},g=function(){return Array.from(a).some((function(e){return!e.validity.valid}))},q=function(){Array.from(a).forEach((function(e){e.validity.valid?(h.setAttribute("stroke","#FF6900"),_.setAttribute("hidden","")):(h.setAttribute("stroke","#FF3B30"),_.removeAttribute("hidden"))}))},S=function(){b()?(u.classList.add("form__phone_type_error"),v.removeAttribute("hidden"),y.style.visibility="hidden"):(u.classList.remove("form__phone_type_error"),v.setAttribute("hidden",""),y.style.visibility="visible")};Array.from(a).forEach((function(e){e.addEventListener("input",q)})),u.addEventListener("input",S),t.addEventListener("submit",(function(t){t.preventDefault(),g()&&q(),b()&&S(),g()||b()||(f.checked?l.textContent="Спасибо! Рады, что вам понравилось.":m.checked?(l.textContent="Спасибо! Будем стараться, чтобы ваша оценка улучшилась.",l.style.width="".concat(58,"%")):l.textContent="Спасибо! Нам жаль, что так вышло. Мы разберемся и свяжемся с вами.",s.classList.add("popup_opened"),e.style.overflow="hidden")})),r.setAttribute("style","height:"+(r.scrollHeight-38)+"px;"),r.addEventListener("input",(function(){this.style.height="54px",this.style.height=this.scrollHeight-38+"px"}),!1),r.addEventListener("input",(function(){n.textContent="".concat(r.value.length)})),o.addEventListener("change",(function(){var e="";this.files&&this.files.length>=1&&(e=this.files.length),e&&(i.textContent="Выбрано файлов: "+e)}));var A=!1;function L(){m.checked||f.checked?(u.removeAttribute("required"),u.removeAttribute("minlength")):(u.setAttribute("required",""),u.setAttribute("minlength","16"))}u.addEventListener("click",(function(){if(!A)return u.value="+7",void(A=!0)})),u.addEventListener("input",(function(){for(var e=this.value.replace(/[^\d+]/g,""),t="",r=0;r<Math.min(e.length,12);r++)t+=e[r],1!=r&&4!=r&&7!=r&&9!=r||(t+=" ");this.value=t})),c.addEventListener("change",(function(){c.checked?(d.removeAttribute("disabled"),d.classList.remove("form__submit_inactive")):(d.setAttribute("disabled",!0),d.classList.add("form__submit_inactive"))})),Array.from(a).forEach((function(e){e.addEventListener("change",L)}));var x=new Date;p.textContent="© ".concat(x.getFullYear())})();